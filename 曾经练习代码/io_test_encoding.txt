http://www.docin.com/p-323239395.html
proteus + emu
----------------------
【少校】微机原理张老师(378164530) 21:37:17
电路原理图和音乐发生器接口实验一模一样
【少校】微机原理张老师(378164530) 21:43:52
先初始化8255、8253，置PC6\PC0为低电平，关闭扬声器，根据DO音计算初值送往8253，置PC6\PC0为1，扬声器发声，调用延时，根据REN音计算初值送往8253，扬声器发REN音，调用延时，置PC6\PC0为低电平，关闭扬声器。
【少校】微机原理张老师(378164530) 21:43:58
流程图如上
【少校】微机原理张老师(378164530) 21:44:09
参考流程图编写程序
【少将】董明明 ?(1255721115) 21:49:10
双击查看原图双击查看原图双击查看原图
【少校】微机原理张老师(378164530) 22:06:54
mov dx,12h   
mov ax,34dch  ;   
1.19318MHz转换成十六进制数为 1234dcH，那么必须将被除数放在DX和AX中
-------------------------------------------------------------------------
先初始化8255、8253，置PC6\PC0为低电平，关闭扬声器，根据DO音计算初值送往8253，置PC6\PC0为1，扬声器发声，调用延时，根据REN音计算初值送往8253，扬声器发REN音，调用延时，置PC6\PC0为低电平，关闭扬声器。
------------------------------------------------------------------
一哥的正解，默认情况下布尔控件的机械动作是Latch型的，你改成Switch型的就不会出错了。这里如果理解了两种机械动作类型的工作方式，就很容易明白为什么会出错了。Switch型就类似于我们的机器电源开关，你开（On），开关就被按下去，它是不会弹起来，除非你再按一下（Off），而Latch型是当你按下按钮后，布尔控件的值改变，但是一但程序读取了控件的值，控件就会回到它的默认状态，你可以理解为一个瞬间的短接，类似于我们的PC机的电源按钮。所以对于Latch型的变量，你通过局部变量去改变它的值从思路上就不合理，你改变了它又变回来，何苦呢



------------------------------------------------------------------
ABCDEFGHIJKLMNOPQRSTUVWXYZ
abcdefghijklmnopqrstuvwxyz
------------------------------------------------------------------
CODE         SEGMENT                                                ASSUME      CS:CODE   IOAPT      EQU 0FF28H   IOBPT      EQU 0FF29H   IOCPT      EQU 0FF2AH   IOCONPT EQU 0FF2BH    ORG 1000H   START:   CLC                           MOV AL,80H      MOV DX,IOCONPT                            OUT DX,AL                        ;  设置控制字  80H      MOV AL,0FEH                           MOV DX,IOAPT   NEXT:         OUT DX,AL                        ;  点亮  L1                         CALL DELAY1                           ROL AL,01H                        ;  循环左移                             JMP NEXT      DELAY1: PUSH AX                              ;  延时程序                                 PUSH CX   MOV CX,  0030H     DELY2:      CALL DELAY2                            LOOP DEL  Y2      POP CX                            POP AX      RET   DELAY2: PUSH CX      MOV CX,  500H     DELA1:    LOOP DELA1      POP CX      RET   CODE ENDS   END      START   ②     修改程序控制  LED1  →  LED12  轮流点亮。     提示：  a.  将指令  MOV AL,0FEH  改为  MOV AX,0FFFEH                        b.  将指令  OUT DX,AL   改为  OUT DX,AX                          C  .   将指令  ROL AL,01H   改为  ROL AX,01H   

http://baike.baidu.com/link?url=ijoNXLdCeaayIdK1-jsEFOMzKnzLcBqkJNHpPntvd_UiUUBwVmCpAkZqRAN8XedYSJyhK4jo0CSVOJxgsVsl4_#4_7
当盘子的个数为n时，移动的次数应等于2^n C 1
后来一位美国学者发现一种出人意料的简单方法，只要轮流进行两步操作就可以了。
首先把三根柱子按顺序排成品字型，把所有的圆盘按从大到小的顺序放在柱子A上，根据圆盘的数量确定柱子的排放顺序：若n为偶数，按顺时针方向依次摆放 A B C；

若n为奇数，按顺时针方向依次摆放 A C B。

⑴按顺时针方向把圆盘1从现在的柱子移动到下一根柱子，即当n为偶数时，若圆盘1在柱子A，则把它移动到B；若圆盘1在柱子B，则把它移动到C；若圆盘1在柱子C，则把它移动到A。

⑵接着，把另外两根柱子上可以移动的圆盘移动到新的柱子上。即把非空柱子上的圆盘移动到空柱子上，当两根柱子都非空时，移动较小的圆盘。这一步没有明确规定移动哪个圆盘，你可能以为会有多种可能性，其实不然，可实施的行动是唯一的。

⑶反复进行⑴⑵操作，最后就能按规定完成汉诺塔的移动。

所以结果非常简单，就是按照移动规则向一个方向移动金片：

如3阶汉诺塔的移动：A→C,A→B,C→B,A→C,B→A,B→C,A→C